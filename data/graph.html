<!DOCTYPE html>
<html>
<head>
  <title>RK6006 Data Visualization</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h2>RK6006 Data Visualization</h2>
  <canvas id="voltageChart" width="800" height="400"></canvas>
  <canvas id="currentChart" width="800" height="400"></canvas>
  <canvas id="capacityChart" width="800" height="400"></canvas>

  <script>
    // Получение данных из сервера
    fetch('http://192.168.0.103/getVoltageData.php')
      .then(response => response.json())
      .then(data => {
        const timestamps = data.map(entry => entry.timestamp);
        const voltages = data.map(entry => entry.voltage);
        const currents = data.map(entry => entry.current);
        const capacities = data.map(entry => entry.capacity);

        // Рисование графика напряжения
        var ctx1 = document.getElementById('voltageChart').getContext('2d');
        var voltageChart = new Chart(ctx1, {
          type: 'line',
          data: {
            labels: timestamps,
            datasets: [{
              label: 'Voltage',
              borderColor: 'rgb(75, 192, 192)',
              fill: false,
              data: voltages
            }]
          }
        });

        // Рисование графика тока
        var ctx2 = document.getElementById('currentChart').getContext('2d');
        var currentChart = new Chart(ctx2, {
          type: 'line',
          data: {
            labels: timestamps,
            datasets: [{
              label: 'Current',
              borderColor: 'rgb(192, 75, 192)',
              fill: false,
              data: currents
            }]
          }
        });

        // Рисование графика ёмкости
        var ctx3 = document.getElementById('capacityChart').getContext('2d');
        var capacityChart = new Chart(ctx3, {
          type: 'line',
          data: {
            labels: timestamps,
            datasets: [{
              label: 'Capacity',
              borderColor: 'rgb(192, 192, 75)',
              fill: false,
              data: capacities
            }]
          }
        });
      });
  </script>
</body>
</html>